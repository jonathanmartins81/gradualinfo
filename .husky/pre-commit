#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Executando verificaÃ§Ãµes de qualidade..."

# Executar lint-staged para formatar e lintar arquivos alterados
echo "ğŸ“ Formatando e lintando arquivos alterados..."
npx --no-install lint-staged

# Verificar tipos TypeScript
echo "ğŸ”§ Verificando tipos TypeScript..."
npm run type-check

# Executar testes unitÃ¡rios com Vitest
echo "ğŸ§ª Executando testes unitÃ¡rios com Vitest..."
npm run test:ci

# Verificar qualidade geral do cÃ³digo (sem check-deps para desenvolvimento)
echo "âœ… Verificando qualidade geral do cÃ³digo..."
npm run lint && npm run format:check

echo "ğŸ‰ VerificaÃ§Ãµes bÃ¡sicas passaram! Commit permitido."
echo "ğŸ’¡ Para verificaÃ§Ã£o completa, execute: npm run quality && npm run check-deps"
